<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <title>FECTH API</title>
  </head>
  <body>
    <div class="container">
      <button id="myBtn" class="btn btn-primary">Your Button</button>
      <button class="btn btn-primary">Fetch Data</button>
      <div id="content"></div>
    </div>

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>

    <script>
      var myBtn = document.getElementById("myBtn");
      var content = document.getElementById("content");

      // function getData(){
      //     console.log("Started getData");
      //     var url = "apiData.txt";

      //     // this fetch runs in background and returns when all javascript is loaded completely
      //     fetch(url).then((response)=>{
      //         console.log("inside first then");
      //         return response.text()
      //     }).then((data)=>{
      //         console.log("inside second then");
      //         console.log(data);
      //     })
      // }

      function getData() {
        console.log("Started getData");
        var url = "https://api.github.com/users";

        // this fetch runs in background and returns when all javascript is loaded completely
        fetch(url)
          .then((response) => {
            console.log("inside first then");
            return response.json();
          })
          .then((data) => {
            console.log("inside second then");
            console.log(data);
          });
      }

      //   ERROR
      // function postData(){
      //     var url = "http://dummy.restapiexample.com/api/v1/create";
      //     var data = '{"name":"aryan28102asss002","salary":"123","age":"23"}';
      //     var params = {
      //         method:'post',
      //         headers: {
      //             'Content-Type': 'application/json'
      //         },
      //         body: data
      //     }
      //     // this fetch runs in background and returns when all javascript is loaded completely
      //     fetch(url, params).then((response)=>response.json())
      //     .then((data)=>console.log(data))
      // }

      //   ERROR
      //   function postData() {
      //     url = "http://dummy.restapiexample.com/api/v1/create";
      //     data = '{"name":"lry347485945","salary":"123","age":"23"}';
      //     params = {
      //       method: "post",
      //       headers: {
      //         "Content-Type": "application/json",
      //       },
      //       body: data,
      //     };
      //     fetch(url, params)
      //       .then((response) => response.json())
      //       .then((data) => console.log(data));
      //   }

      console.log("Before running getData");
      getData();
      console.log("After running getData");

      //   ERROR
      //   postData();
    </script>
  </body>
</html>
